---
allowed-tools:
  - Bash(git add:*)
  - Bash(git status:*)
  - Bash(git diff:*)
  - Bash(git log:*)
  - Bash(git branch:*)
  - Bash(gh pr:view:*)
  - Bash(mkdir:*)
  - Read
  - Write
  - Edit
  - Glob
  - Bash
description: テンプレートを使ってカスタムドキュメントを作成
argument-hint: <ディレクトリ名>
---

## 参照スキル

- `skills/search-related-docs/SKILL.md` - 関連ドキュメント検索
- `skills/load-doc-context/SKILL.md` - コンテキスト読み込み

## 実行フロー

### Step 1: 関連ドキュメント検索

ドキュメント作成前に、関連する既存ドキュメントを検索：

1. `git status` で現在の変更ファイルを取得
2. `.claude/custom-documents/` 内のドキュメントを走査
3. 変更ファイルやキーワードが一致するドキュメントを検出
4. 関連度の高いドキュメントがあれば提示：

```
📚 関連する可能性のあるドキュメントが見つかりました：

1. **feature-auth-login** (関連度: 高)
   - 一致: `src/auth/login.ts`
   - 概要: ログイン機能の実装

このドキュメントを参照しますか？
- (y) 既存ドキュメントを更新 → /update-doc にリダイレクト
- (n) 新規ドキュメントとして作成
- (r) 参照しながら新規作成
```

### Step 2: コンテキスト読み込み（参照選択時）

ユーザーが「参照しながら新規作成」を選択した場合：
- `skills/load-doc-context.md` に従ってドキュメントを読み込み
- 過去の実装内容との整合性を意識してドキュメントを作成

### Step 3: ドキュメント作成

.claude/custom-documents にドキュメントを作成してください。ディレクトリの名前は以下を参考にしてください。
- 名前の指定がない場合今回のセッションのこれまでの会話を元にまとめた名前
- 指定がある場合はそれに従った名前

ファイル数は、必要に応じて上記ディレクトリの中に切り分けて作成
可能な限り1つのファイルにまとめてください。

### HTMLドキュメント生成

マークダウンドキュメント作成後、以下のコマンドでHTMLを生成してください：

```bash
python scripts/markdown-to-html.py .claude/custom-documents/[ディレクトリ名]/
```

生成されるHTMLには以下の機能が含まれます：
- フローティング目次（スクロール追随）
- ファイルパスのコピー機能
- 詳細セクションのトグル展開
- 落ち着いた色合いのデザイン
- レスポンシブ対応

## root

現在のプロジェクト配下

## 目的

他のブランチや、他のワークツリーでも同等のコンテキストで作業ができるように管理することで

並列での作業の効率化を図るためのコマンド

## 構造

以下の内容で書いてください。

### サンプル構造

```markdown
# [タスク名/機能名]

## 概要

## 変更したファイル
- `path/to/file1.ext` - [変更内容の説明]
- `path/to/file2.ext` - [変更内容の説明]

## 実装内容
### [変更点1のタイトル]
- [具体的な変更内容]

### [変更点2のタイトル]
- [具体的な変更内容]

## 技術的な背景・解説
### [技術トピック1]
- [技術的な背景や理由の説明]
- [仕組みやアーキテクチャの解説]

### [技術トピック2]
- [使用した技術やライブラリの説明]
- [実装パターンの解説]

## 技術的な判断・設計決定
- [なぜこの実装方法を選んだか]
- [検討した代替案があれば]
- [トレードオフの考慮点]

## セキュリティ観点（必要な場合）
### 対策済みの項目
- [実装したセキュリティ対策]
- [検証・バリデーションの内容]

### 検討が必要な項目
- [今後検討すべきセキュリティ課題]
- [潜在的なリスク]

### 関連するセキュリティベストプラクティス
- [OWASP Top 10などの該当項目]
- [業界標準や推奨事項]

## 注意点・制約
- [気をつけるべきこと]
- [既知の問題や制約]
- [今後の改善余地]

## 関連知識・参考資料
### 公式ドキュメント
- [技術/ライブラリ名] - [URL] - [簡単な説明]

### 技術解説記事
- [記事タイトル] - [URL] - [どんな内容か]

### 参考実装・サンプルコード
- [リポジトリ/記事名] - [URL] - [参考にした点]

### 関連する概念・知識
- [概念名] - [説明や参考URL]
```
